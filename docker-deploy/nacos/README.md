# Nacos

## Nacos 端口

| 端口  | 与主端口的偏移量 | 暴露 | 描述 |
|------|----------|----------|----------------------------------------------------|
| 8848 | 0        | 服务可达 | Nacos HTTP API 端口，用于Nacos AdminAPI及HTTP OpenAPI的访问 |
| 9848 | 1000     | 集群节点内互通 | 客户端gRPC请求服务端端口，用于客户端向服务端发起连接和请求 |
| 9849 | 1001     | 集群节点内互通 | 服务端gRPC请求服务端端口，用于服务间同步等 |
| 7848 | -1000    | 集群节点内互通 | Jraft请求服务端端口，用于处理服务端间的Raft相关请求 |
| 8080 | 独立配置   | 不建议暴露在公网 |Nacos控制台端口，访问Nacos控制台及Nacos控制台的API |

> **使用VIP/nginx请求时，对于Nacos的gRPC端口（默认9848）需要配置成TCP转发，不能配置http/http2转发，否则连接会被nginx断开。**
>
> **对外暴露端口时，建议仅暴露控制台端口（默认8080）和gRPC端口（默认9848）；同时按需暴露主端口（默认8848），其他端口为服务端之间的通信端口，请勿暴露其他端口，同时建议所有端口均不暴露在公网下。**