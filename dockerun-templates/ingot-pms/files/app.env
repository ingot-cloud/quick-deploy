# ==============================================================================
# Docker 容器配置文件示例
# 这个文件定义了容器运行所需的所有环境变量和配置项
# ==============================================================================

# ==================== 基本配置 ====================
# 容器名称（必需）
CONTAINER_NAME="ingot-pms"

# 镜像名称（必需）
IMAGE_NAME="docker-registry.ingotcloud.top/ingot/pms:0.1.0"

# 容器主机名（可选）
CONTAINER_HOSTNAME=""

# 重启策略: no, always, unless-stopped, on-failure
RESTART_POLICY="always"

# ==================== 网络配置 ====================
# 网络模式: bridge, host, none
NETWORK_MODE="bridge"

# 自定义网络名称（可选，如果设置则忽略 NETWORK_MODE）
NETWORK_NAME="ingot-net"

# 静态 IP 地址（可选，需要使用自定义网络）
CONTAINER_IP=""

# ==================== 端口映射 ====================
# 格式: host_port:container_port
# 多个端口用空格分隔
PORTS=""

# ==================== 环境变量 ====================
# 应用环境变量（每行一个，或用空格分隔）
ENV_VARS="
TZ=Asia/Shanghai
CRYPTO_AES_KEY=ingotingotingot1
CRYPTO_AES_GCM_KEY=ingotingotingot1
NACOS_SERVER_ADDR=nacos1:8848,nacos2:8848,nacos3:8848
NACOS_USERNAME=nacos
NACOS_PASSWORD=nacos
MYSQL_HOST=mysql-db
MYSQL_PORT=3306
MYSQL_USERNAME=dev
MYSQL_PASSWORD=123456
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DATABASE=0
REDIS_PASSWORD=ingotredis
MINIO_URL=http://minio:9000
MINIO_ACCESS_KEY=2NPpKzxFQjyeMTQFEXA1
MINIO_SECRET_KEY=8SGAp7DhqZCQrYnU9Poyu888pQOB6w4SP2ILHbVU
"

# ==================== 卷挂载 ====================
# 主机路径挂载
# 格式: host_path:container_path[:options]
# options: ro (只读), rw (读写，默认)
VOLUMES="
/ingot-data:/ingot-data
"

# 命名卷
NAMED_VOLUMES=""

# ==================== 特殊挂载 ====================
# Docker Socket（用于容器管理其他容器）
MOUNT_DOCKER_SOCKET="false"

# 时区文件
MOUNT_TIMEZONE="true"

# ==================== 资源限制 ====================
# CPU 限制（核心数）
CPU_LIMIT=""

# CPU 份额（相对权重，默认 1024）
CPU_SHARES=""

# 内存限制
MEMORY_LIMIT=""

# 内存预留
MEMORY_RESERVATION=""

# ==================== 健康检查 ====================
# 启用健康检查
HEALTH_CHECK_ENABLED="false"

# 健康检查命令
HEALTH_CHECK_CMD="curl -f http://localhost/health || exit 1"

# 检查间隔
HEALTH_CHECK_INTERVAL="30s"

# 超时时间
HEALTH_CHECK_TIMEOUT="10s"

# 重试次数
HEALTH_CHECK_RETRIES="3"

# 启动等待时间
HEALTH_CHECK_START_PERIOD="60s"

# ==================== 用户配置 ====================
# 以特定用户运行容器
# 格式: uid:gid 或 username:groupname
RUN_AS_USER=""

# ==================== 工作目录 ====================
# 容器工作目录
WORKDIR=""

# ==================== 日志配置 ====================
# 日志驱动: json-file, syslog, journald, gelf, fluentd, none
LOG_DRIVER="json-file"

# 日志选项
LOG_MAX_SIZE="10m"
LOG_MAX_FILE="3"

# ==================== 主机配置 ====================
# 添加主机名映射（多个用换行分隔）
# 格式: ip:hostname
EXTRA_HOSTS=""


# ==================== 安全配置 ====================
# 特权模式（慎用）
PRIVILEGED="false"

# Linux Capabilities 添加（多个用空格分隔）
CAP_ADD=""

# Linux Capabilities 删除（多个用空格分隔）
CAP_DROP=""

# 只读根文件系统
READ_ONLY="false"

# SELinux 标签
SECURITY_OPT=""

# ==================== 设备映射 ====================
# 设备映射（每行一个）
# 格式: host_device:container_device[:permissions]
DEVICES=""

# ==================== 其他配置 ====================
# 容器标签（每行一个）
# 格式: key=value
LABELS="
app=myapp
version=1.0.0
environment=production
"

# PID 命名空间: host 或不设置
PID_MODE=""

# IPC 命名空间: host, shareable 或不设置
IPC_MODE=""

# UTS 命名空间: host 或不设置
UTS_MODE=""

# ==================== 启动命令 ====================
# 容器启动命令（可选，会覆盖 Dockerfile 中的 CMD）
CONTAINER_CMD=""

# 容器入口点（可选，会覆盖 Dockerfile 中的 ENTRYPOINT）
CONTAINER_ENTRYPOINT=""

# ==================== 额外参数 ====================
# 其他 Docker run 参数（如果上面没有覆盖到的）
EXTRA_DOCKER_ARGS=""

